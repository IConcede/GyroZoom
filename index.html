<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Basic OpenSeadragon example</title>
</head>

<body translate="no">
  <div id="seadragon-viewer" style="width:800px; height:600px;"></div>
<script src="https://openseadragon.github.io/openseadragon/openseadragon.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
      <script id="rendered-js" async>
const duomo = {
    Image: {
        xmlns: "http://schemas.microsoft.com/deepzoom/2008",
        Url: "https://openseadragon.github.io/example-images/duomo/duomo_files/",
        Format: "jpg",
        Overlap: "2",
        TileSize: "256",
        Size: {
            Width: "13920",
            Height: "10200"
        }
    }
};

const viewer = OpenSeadragon({
    id: "seadragon-viewer",
    prefixUrl: "https://openseadragon.github.io/openseadragon/images/",
    tileSources: duomo
});
window.onload = () => document.getElementById('output').innerHTML = 'PLEASE'
function handleOrientationEvent(event) {
    
    const {alpha, beta, gamma} = event

    const betaRadians = beta / 180 * Math.PI;
    const gammaRadians = gamma / 180 * Math.PI;
    const spinRadians = Math.atan2(Math.cos(betaRadians) * Math.sin(gammaRadians), Math.sin(betaRadians));

    const rotationDegrees = spinRadians * 180 / Math.PI;

    if (rotationDegrees > 10 && rotationDegrees < 120) {
        viewer.viewport.zoomBy(1.1)
    } else if (rotationDegrees < -10 && rotationDegrees > -120) {
        viewer.viewport.zoomBy(0.9)
    }

    document.getElementById('output').innerHTML = rotationDegrees
}

window.addEventListener("MozOrientation", handleOrientationEvent, true)
window.addEventListener("deviceorientation", handleOrientationEvent, true)
    </script>
    <div><p id="output"></p></div>

  
</body>

</html>
